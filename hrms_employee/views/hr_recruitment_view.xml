<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!--applicant expense-->
        <record id="hr_recruitment_expense_form" model="ir.ui.view">
            <field name="name">hr.recruitment.expense.form</field>
            <field name="model">hr.recruitment.expense</field>
            <field name="arch" type="xml">
                <form string="Recruitment Expense">
                    <sheet>
                        <div class="oe_right oe_button_box">
                            <button name="action_get_attachment_tree_view" class="oe_stat_button" icon="fa-book"
                                    type="object">
                                <field name="attachment_number" widget="statinfo" string="Attachment"/>
                            </button>
                            <br/>
                        </div>
                        <group>
                            <field name="doc_date" required="1" readonly="1"/>
                            <field name="amount" required="1"/>
                            <field name="travel_particular" required="1"/>
                            <field name="purpose" required="1"/>
                            <field name="applicant_id"/>
                        </group>

                    </sheet>

                </form>
            </field>
        </record>

        <record id="hr_recruitment_expense_tree" model="ir.ui.view">
            <field name="name">hr.recruitment.expense.tree</field>
            <field name="model">hr.recruitment.expense</field>
            <field name="arch" type="xml">
                <tree string="Recruitment Expense">
                    <field name="doc_date"/>
                    <field name="amount"/>
                    <field name="travel_particular"/>
                    <field name="purpose"/>
                </tree>
            </field>
        </record>
        <record id="hr_recruitment_expense_action" model="ir.actions.act_window">
            <field name="name">Recruitment Expense</field>
            <field name="res_model">hr.recruitment.expense</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- Attachments goes here-->
        <record id="ir_attachment_view_search_hrrecruitmentexpense" model="ir.ui.view">
            <field name="name">ir.attachment.search.hrrecruitmentexpense</field>
            <field name="model">ir.attachment</field>
            <field name="mode">primary</field>
            <field name="inherit_id" ref="base.view_attachment_search"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='create_date']" position="after">
                    <field name="index_content" string="Content"/>
                </xpath>
                <xpath expr="//filter[@name='my_documents_filter']" position="attributes">
                    <attribute name='invisible'>1</attribute>
                </xpath>
                <xpath expr="//filter[@name='url_filter']" position="attributes">
                    <attribute name='invisible'>1</attribute>
                </xpath>
                <xpath expr="//filter[@name='binary_filter']" position="attributes">
                    <attribute name='invisible'>1</attribute>
                </xpath>
            </field>
        </record>

        <record model="ir.actions.act_window" id="hrrecruitmentexpense_attachments">
            <field name="name">Documents</field>
            <field name="res_model">ir.attachment</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="view_id" ref="mail.view_document_file_kanban"/>
            <field name="search_view_id" ref="ir_attachment_view_search_hrrecruitmentexpense"/>
            <field name="domain">[('res_model','=','hr.recruitment.expense')]</field>
            <field name="context">{'create':False, 'edit':False}</field>
            <field name="help" type="html">
                <p>
                    No document yet.
                </p>
                <p>
                    This menu helps you search through resumes and motivation
                    letters. Odoo automatically indexes .PDF, .DOC, DOCX, .TXT
                    files so that you can search keywords from the content of these
                    files.
                </p>
            </field>
        </record>

        <!--application tree-->
        <record id="custom_crm_case_tree_view_job" model="ir.ui.view">
            <field name="name">Applicants</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="hr_recruitment.crm_case_tree_view_job"/>
            <field name="arch" type="xml">
                <field name="medium_id" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="source_id" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="user_id" position="after">
                    <field name="remarks"/>
                </field>
            </field>
        </record>
        <!--application form-->
        <record id="hrms_applicant_view_form" model="ir.ui.view">
            <field name="name">hr.applicant.form</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="hr_recruitment.crm_case_form_view_job"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@name='button_box']" position="inside">
                    <newline/>
                    <button name="%(hr_recruitment_expense_action)d" type="action" class="oe_inline oe_stat_button" icon="fa-file-text" help="Add/Edit/Review Recruitment Expense of applicant">
                        <field name="no_of_recruitmentexpense" widget="statinfo" string="Applicant Expense" />
                    </button>
                </xpath>
                <!--hr recruitment validation-->
                <xpath expr="//field[@name='stage_id']" position="replace">
                    <field name="stage_id" widget="statusbar" clickable="True" options="{'fold_field': 'fold'}" attrs="{'invisible': [('stage_check', '=', 'Contract Signed')]}" onchange="check_validations"/>
                </xpath>

                <xpath expr="//button[@name='archive_applicant']" position="replace">
                    <button string="Refuse" name="archive_applicant" type="object" attrs="{'invisible': ['|', ('stage_check', '=', 'Contract Signed'), ('active', '=', False)]}"/>
                </xpath>

                <!--<button name="create_employee_from_applicant" position="replace">-->
                    <!--<button string="Create Employee" name="create_employee_from_applicant" type="action" class="oe_highlight" attrs="{'invisible': ['|',('emp_id', '!=', False),('active', '=', False)]}" />-->
                <!--</button>-->

                <xpath expr="//button[@name='archive_applicant']" position="before">
                    <button name="action_initial_hired" string="Initial Hired" type="object" class="oe_highlight" confirm="Confirmation needed for this process." attrs="{'invisible':['|', ('is_hired', '=', True), ('is_initial_hired', '=', True)]}"/>
                </xpath>
                <xpath expr="//button[@name='archive_applicant']" position="after">
                    <button name="send_email_to_applicant" string="Send Email" type="object" class="oe_highlight" confirm="Confirmation needed for this process."/>
                </xpath>
                <!--<xpath expr="//field[@name='partner_id']" position="after">-->
                    <!--<field name="stage_check" invisible="1"/>-->
                <!--</xpath>-->

                <!--<xpath expr="//field[@name='partner_id']" position="attributes">-->
                    <!--<attribute name="required">1</attribute>-->
                <!--</xpath>-->
                <xpath expr="//div[@class='oe_title']" position="replace">
                    <div class="oe_title">
                        <label for="name" class="oe_edit_only" string="Name"/>
                        <h1><field name="name" readonly="True"/></h1>
                    </div>
                    <!--<h2 class="o_row">-->
                        <!--<div>-->
                            <!--<label for="partner_name" class="oe_edit_only"/>-->
                            <!--<field name="partner_name"/>-->
                        <!--</div>-->
                        <!--<div>-->
                            <!--<label for="categ_ids" class="oe_edit_only"/>-->
                            <!--<field name="categ_ids" style="width:50%;" widget="many2many_tags" options="{'no_create_edit': True}"/>-->
                        <!--</div>-->
                    <!--</h2>-->
                </xpath>
                <xpath expr="//form/sheet/group" position="replace">
                    <group>
                        <group string="Personal Information">
                            <field name="emp_applicant_id" options="{'no_create_edit':True}" attrs="{'required':[('applicant_type','!=', 'external')],'invisible':[('applicant_type','=', 'external')]}"/>
                            <field name="first_name" required="True"/>
                            <field name="middle_name" required="True"/>
                            <field name="last_name" required="True"/>
                            <field name="suffix"/>
                            <field name="prefix"/>
                            <field name="type_id" placeholder="Degree"/>
                            <field name="birth_date"/>
                            <field name="marital"/>
                            <field name="gender"/>
                            <field name="is_hired" invisible="1"/>
                            <field name="is_initial_hired" invisible="1"/>
                            <field name="date_hired"/>
                        </group>
                        <group string="Contact Information">
                            <field name="partner_id" required="1"/>
                            <field name="stage_check" invisible="1"/>
                            <field name="email_from" widget="email"/>
                            <field name="partner_phone"/>
                            <field name="partner_mobile"/>
                            <label for="street" string="Address"/>
                            <div>
                                <field name="street" nolabel="1" placeholder="Street..."/>
                                <field name="barangay_id" placeholder="Barangay..." options="{'no_create': True}"/>
                                <field name="municipality_id" placeholder="City / Municipality..." options="{'no_create': True}"/>
                                <field name="province_id" placeholder="Province..." options="{'no_create': True}"/>
                                <field name="region_id" placeholder="Region..." options="{'no_create': True}"/>
                            </div>
                        </group>
                        <group string="Application References">
                            <field name="date_applied"/>
                            <field name="recruitment_request_id" options="{'no_create_edit':True}" domain="[('job_id', '=', job_id)]"/>
                            <field name="applicant_type"/>
                            <field name="user_id" invisible="1"/>
                            <field name="requester_id" options="{'no_create_edit':True}" required="1"/>
                            <field name="priority" widget="priority" invisible="1"/>
                            <field name="medium_id" groups="base.group_no_one"/>
                            <field name="source_id" invisible="1"/>
                            <field name="reference"/>
                        </group>
                        <group string="Job Applied">
                            <field name="employee_status_id" options="{'no_create':True}" required="1"/>
                            <field name="job_id" options="{'no_create':True}"/>
                            <field name="department_id" options="{'no_create':True}"/>
                            <field name="company_id" groups="base.group_multi_company" required="1" options="{&quot;no_open&quot;:True,'no_create':True}"/>
                        </group>
                        <group string="For Email Purposes">
                            <field name="title_action" string="Subject" attrs="{'readonly':[('is_hired', '=', True)]}" placeholder="e.g. Call for interview"/>
                            <!--<label for="title_action"/>-->
                            <!--<div>-->
                                <!--<field name="date_action"/>-->
                                <!---->
                            <!--</div>-->
                            <field name="message" attrs="{'readonly':[('is_hired', '=', True)]}"/>
                        </group>
                        <group string="Contract" invisible="1">
                            <label for="salary_expected"/>
                            <div>
                                <field name="salary_expected" class="oe_inline"/>
                                <span class="oe_inline" attrs="{'invisible':[('salary_expected_extra','=',False)]}"> + </span>
                                <field name="salary_expected_extra" class="oe_inline" placeholder="Extra advantages..."/>
                            </div>
                            <label for="salary_proposed"/>
                            <div>
                                <field name="salary_proposed" class="oe_inline"/>
                                <span class="oe_inline" attrs="{'invisible':[('salary_proposed_extra','=',False)]}"> + </span>
                                <field name="salary_proposed_extra" class="oe_inline" placeholder="Extra advantages..."/>
                            </div>
                            <field name="availability"/>
                            <field name="emp_id" invisible="1"/>
                        </group>
                    </group>
                </xpath>

                <!--<xpath expr="//field[@name='job_id']" position="before">-->
                    <!--<field name="employee_status_id" options="{'no_create':True}" required="1"/>-->
                <!--</xpath>-->

                <!--<xpath expr="//field[@name='source_id']" position="attributes">-->
                    <!--<attribute name="invisible">1</attribute>-->
                <!--</xpath>-->

                <!--<xpath expr="//field[@name='priority']" position="before">-->
                    <!--<field name="message" attrs="{'readonly':[('is_hired', '=', True)]}"/>-->
                    <!--&lt;!&ndash;<field name="mail_template_id" attrs="{'readonly':[('is_hired', '=', True)]}"&ndash;&gt;-->
                           <!--&lt;!&ndash;groups="base.group_no_one" options="{'no_create':True}"/>&ndash;&gt;-->
                <!--</xpath>-->

                <!--<xpath expr="//field[@name='priority']" position="attributes">-->
                    <!--<attribute name="invisible">1</attribute>-->
                <!--</xpath>-->
                <!--<xpath expr="//field[@name='user_id']" position="attributes">-->
                    <!--<attribute name="invisible">1</attribute>-->
                <!--</xpath>-->

                <!--<xpath expr="//field[@name='job_id']" position="attributes">-->
                    <!--<attribute name="options">{'no_create':True}</attribute>-->
                    <!--<attribute name="required">1</attribute>-->
                <!--</xpath>-->

                <!--<xpath expr="//field[@name='department_id']" position="attributes">-->
                    <!--<attribute name="options">{'no_create':True}</attribute>-->
                    <!--<attribute name="required">1</attribute>-->
                <!--</xpath>-->

                <!--<xpath expr="//field[@name='company_id']" position="attributes">-->
                    <!--<attribute name="options">{'no_create':True}</attribute>-->
                    <!--<attribute name="required">1</attribute>-->
                <!--</xpath>-->


                <!--<xpath expr="//field[@name='user_id']" position="before">-->
                    <!--<field name="date_applied"/>-->
                    <!--<field name="applicant_type"/>-->
                <!--</xpath>-->

                <!--<xpath expr="//field[@name='type_id']" position="after">-->
                    <!--<label for="street" string="Address"/>-->
                    <!--<div>-->
                        <!--<field name="street" nolabel="1" placeholder="Street..."/>-->
                        <!--<field name="barangay_id" placeholder="Barangay..." options="{'no_create': True}"/>-->
                        <!--<field name="municipality_id" placeholder="City / Municipality..." options="{'no_create': True}"/>-->
                        <!--<field name="province_id" placeholder="Province..." options="{'no_create': True}"/>-->
                        <!--<field name="region_id" placeholder="Region..." options="{'no_create': True}"/>-->
                    <!--</div>-->
                <!--</xpath>-->

                <!--<xpath expr="//field[@name='reference']" position="after">-->
                    <!--<field name="birth_date"/>-->
                    <!--<field name="marital"/>-->
                    <!--<field name="gender"/>-->
                    <!--<field name="recruitment_request_id" options="{'no_create_edit':True}" domain="[('job_id', '=', job_id)]"/>-->
                    <!--<field name="is_hired" attrs="{'invisible':True}"/>-->
                    <!--<field name="is_initial_hired" attrs="{'invisible':True}"/>-->
                    <!--<field name="date_hired"/>-->
                <!--</xpath>-->

                <!--<field name="partner_id" position="before">-->
                    <!--<field name="emp_applicant_id" options="{'no_create_edit':True}" attrs="{'required':[('applicant_type','!=', 'external')],'invisible':[('applicant_type','=', 'external')]}"/>-->
                    <!--<field name="first_name" required="True"/>-->
                    <!--<field name="middle_name" required="True"/>-->
                    <!--<field name="last_name" required="True"/>-->
                    <!--<field name="suffix"/>-->
                    <!--<field name="prefix"/>-->
                <!--</field>-->

                <xpath expr="//field[@name='description']" position="replace">
                    <notebook>
                        <page string="Application Summary">
                            <field name="description"  placeholder="Feedback of interviews..."/>
                        </page>
                        <page string="Applicant's Recruitment History">
                            <field name="app_history_id">
                                <tree string="Applicant Recruitment History" editable="top" domain="[('active', '=', True), ('state', '=', 'confirm')]">
                                    <field name="name" readonly="1"/>
                                    <field name="stage_date" readonly="1"/>
                                    <field name="stage_state" readonly="1"/>
                                    <field name="remarks"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Remarks">
                            <field name="remarks" placeholder="Remarks of recruiter"/>
                        </page>
                    </notebook>
                </xpath>

            </field>
        </record>

        <record id="view_crm_case_jobs_filter1" model="ir.ui.view">
            <field name="name">Jobs - Recruitment Search</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="hr_recruitment.view_crm_case_jobs_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@name='inactive']" position="before">
                    <filter string="Hired" name="hired" domain="[('is_hired','=',True)]"/>
                    <filter string="Not Yet Hired" name="not_yet_hired" domain="[('is_hired','=',False)]"/>
                </xpath>
            </field>
        </record>

        <record model="ir.actions.act_window" id="hr_recruitment.crm_case_categ0_act_job">
            <field name="context">{'search_default_not_yet_hired': 1}</field>
        </record>

        <record model="ir.actions.act_window" id="hr_recruitment.action_hr_job_applications">
            <field name="context">{'search_default_job_id': [active_id], 'default_job_id': active_id, 'search_default_not_yet_hired': 1}</field>
        </record>

        <!--hr_applicant_history-->
        <record id="hr_applicant_history_form" model="ir.ui.view">
            <field name="name">hr.applicant.history.form</field>
            <field name="model">hr.applicant.history</field>
            <field name="arch" type="xml">
                <form string="Applicant History">
                    <sheet string="">
                        <group>
                            <group>
                                <field name="name" />
                                <field name="remarks"/>
                            </group>
                            <group>
                                <field name="stage_date"/>
                                <field name="stage_state"/>
                            </group>
                        </group>
                    </sheet>

                </form>
            </field>
        </record>
        <record id="hr_applicant_history_tree" model="ir.ui.view">
            <field name="name">hr.applicant.history.tree</field>
            <field name="model">hr.applicant.history</field>
            <field name="arch" type="xml">
                <tree string="Applicant Recruitment History">
                    <field name="name"/>
                    <field name="stage_date"/>
                    <field name="stage_state"/>
                    <field name="remarks"/>
                </tree>
            </field>
        </record>

        <record id="hr_applicant_history_action" model="ir.actions.act_window">
            <field name="name">hr.applicant.history.action</field>
            <field name="res_model">hr.applicant.history</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!--menu application enable-->
        <menuitem name="Applications"
        parent="hr_recruitment.menu_hr_recruitment_root"
        id="hr_recruitment.menu_crm_case_categ0_act_job" action="hr_recruitment.crm_case_categ0_act_job" sequence="2" groups="hr.group_hr_user"/>

        <record id="hr_manpower_plan_form_view" model="ir.ui.view">
            <field name="name">hr.manpower.plan.form</field>
            <field name="model">hr.manpower.plan</field>
            <field name="arch" type="xml">
                <form string="">
                    <header>
                        <button name="action_posted" string="Post" class="oe_highlight" type="object"
                                attrs="{'invisible':[('state', 'in',[False,'posted'])]}"/>
                        <button name="action_unposted" string="Unpost" class="oe_highlight" type="object"
                                attrs="{'invisible':[('state', 'in',[False,'draft'])]}"
                                groups="hr_recruitment.group_hr_recruitment_user,hr_recruitment.group_hr_recruitment_manager"/>
                        <button name="cron_sending_personnel_requisition" string="Sending Email" type="object" class="oe_highlight"
                                attrs="{'invisible':[('state', 'in',[False,'draft'])]}"
                                groups="hr_recruitment.group_hr_recruitment_user,hr_recruitment.group_hr_recruitment_manager"/>
                        <field name="state" string="Status" widget="statusbar"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <label for="name" string="Description"/>
                            <h2><field name="name" attrs="{'readonly':[('state', '=','posted')]}"/></h2>
                        </div>
                        <group>
                            <group>
                                <!--<field name="job_id" options="{'no_create':True}" required="1" attrs="{'readonly':[('state', '=','posted')]}"/>-->
                                <field name="department_id" options="{'no_create':True}" required="1" attrs="{'readonly':[('state', '=','posted')]}"/>
                                <field name="company_id" options="{'no_create':True}" required="1" attrs="{'readonly':[('state', '=','posted')]}"/>
                                <!--<field name="no_of_employee" attrs="{'readonly':[('state', '=','posted')]}"/>-->
                                <!--<field name="no_of_recruitment" attrs="{'readonly':[('state', '=','posted')]}" required="1"/>-->

                            </group>
                            <group>
                                <field name="requester_id" options="{'no_create':True}" required="1" attrs="{'readonly':[('state', '=','posted')]}"/>
                                <label for="month_date" string="Month / Year"/>
                                <div>
                                    <field name="month_date" class="oe_inline" required="1" attrs="{'readonly':[('state', '=','posted')]}"/> -
                                    <field name="year_date" class="oe_inline" required="1" attrs="{'readonly':[('state', '=','posted')]}"/>
                                </div>
                                <field name="date_applied" invisible="1"/>
                                <field name="date_filed" attrs="{'readonly':True}"/>
                                <field name="posted" attrs="{'invisible':True}"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Job Positions">
                                <field name="line_ids" nolabel="1" attrs="{'readonly':[('state', '=','posted')]}" mode="tree">
                                    <tree editable="bottom">
                                        <field name="manpower_id" invisible="1"/>
                                        <field name="job_id" options="{'no_create':True}" required="1" />
                                        <field name="department_id" invisible="1"/>
                                        <field name="no_of_employee" required="1"/>
                                        <field name="no_of_recruitment" required="1"/>
                                        <field name="total"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="hr_manpower_plan_tree_view" model="ir.ui.view">
            <field name="name">hr.manpower.plan.tree</field>
            <field name="model">hr.manpower.plan</field>
            <field name="arch" type="xml">
                <tree string="Manpower Plan" decoration-success="state == 'posted'">
                    <field name="name"/>
                    <!--<field name="job_id"/>-->
                    <field name="department_id"/>
                    <field name="requester_id"/>
                    <!--<field name="no_of_recruitment"/>-->
                    <field name="month_date"/>
                    <field name="year_date"/>
                    <!--<field name="posted"/>-->
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="hr_manpower_plan_filter_view" model="ir.ui.view">
           <field name="name">hr.manpower.plan.filter</field>
           <field name="model">hr.manpower.plan</field>
            <field name="arch" type="xml">
                <search string="">
              <field name="name" string="Description"/>
                    <field name="requester_id"/>
                    <!--<field name="job_id"/>-->
                    <field name="department_id"/>
                    <field name="company_id"/>
                    <filter name="posted" string="Posted" domain="[('posted', '=', True)]"/>
                    <filter name="unposted" string="Not Yet Posted" domain="[('posted', '=', False)]"/>
                    <filter string="Current Year" name="year" domain="[('date_applied','&lt;=',time.strftime('%%Y-12-31')), ('date_applied','&gt;=',time.strftime('%%Y-01-01'))]"/>
            </search>
           </field>
        </record>

        <record id="hr_manpower_plan_action_view" model="ir.actions.act_window">
            <field name="name">Manpower Plan</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.manpower.plan</field>
            <field name="domain">[('requester_id.user_id', '=', uid)]</field>
            <field name="context">{'search_default_year': 1}</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
              </p><p>
                <!-- More details about what a user can do with this object will be OK -->
              </p>
            </field>
        </record>

        <record id="all_hr_manpower_plan_action_view" model="ir.actions.act_window">
            <field name="name">All Manpower Plan</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.manpower.plan</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_year': 1}</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
              </p><p>
                <!-- More details about what a user can do with this object will be OK -->
              </p>
            </field>
        </record>

        <record id="hr_recruitment_request_form_view" model="ir.ui.view">
            <field name="name">hr.recruitment.request.form</field>
            <field name="model">hr.recruitment.request</field>
            <field name="arch" type="xml">
                <form string="Recruitment Request">
                    <header>
                        <button name="action_open" string="Confirm" class="oe_highlight"
                             type="object" states="draft"
                                groups="hrms_employee.group_hr_recruitment_requester,hr_recruitment.group_hr_recruitment_user,hr_recruitment.group_hr_recruitment_manager"/>

                        <button name="action_managers_approval" string="Approve" class="oe_highlight"
                                type="object" states="confirm" groups="hrms_employee.group_prf_manager_approval,hr_recruitment.group_hr_recruitment_user,hr_recruitment.group_hr_recruitment_manager"/>

                        <button name="action_bod_approval" string="Approve" class="oe_highlight"
                                type="object" states="managers_approval"
                                groups="hrms_employee.group_prf_bod_approval,hr_recruitment.group_hr_recruitment_user,hr_recruitment.group_hr_recruitment_manager,hrms_employee.group_prf_hr_manager_approval"/>

                        <button name="action_confirm" string="Validate" class="oe_highlight"
                                type="object" states="bod_approval"
                                groups="hrms_employee.group_prf_hr_manager_approval,hr_recruitment.group_hr_recruitment_user,hr_recruitment.group_hr_recruitment_manager"/>

                        <button name="action_reset_draft" string="Reset to Draft" type="object"
                                states="refuse" class="oe_highlight"
                                groups="hrms_employee.group_prf_manager_approval,hrms_employee.group_prf_bod_approval,hrms_employee.group_prf_hr_manager_approval,hr_recruitment.group_hr_recruitment_user,hr_recruitment.group_hr_recruitment_manager"/>

                        <button name="action_refuse" string="Refuse" type="object"
                                states="confirm,managers_approval,bod_approval,validate" class="oe_highlight"
                                groups="hrms_employee.group_prf_manager_approval,hrms_employee.group_prf_bod_approval,hrms_employee.group_prf_hr_manager_approval,hr_recruitment.group_hr_recruitment_user,hr_recruitment.group_hr_recruitment_manager"/>

                        <button name="action_cancelled" string="Cancel"
                                type="object" states="draft,confirm,managers_approval,bod_approval,validate,refuse"/>

                        <button name="action_close" string="Close"
                             type="object" states="validate" groups="hr_recruitment.group_hr_recruitment_user,hr_recruitment.group_hr_recruitment_manager"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirm,managers_approval,bod_approval,validate"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button" options='{"terminology": "archive"}'/>
                            </button>
                        </div>
                        <div class="oe_title">
                            <label for="name" string="PRF Number"/>
                            <h1><field name="name" attrs="{'readonly':[('state', 'not in',['draft', False])]}"/></h1>
                        </div>
                        <group>
                            <group>
                                <field name="job_id" options="{'no_create':True}" attrs="{'readonly':[('state', 'not in',['draft', False])]}"/>
                                <field name="department_id" options="{'no_create':True}" attrs="{'readonly':[('state', 'not in',['draft', False])]}" required="1"/>
                                <field name="company_id" options="{'no_create':True}" attrs="{'readonly':[('state', 'not in',['draft', False])]}" required="1"/>
                                <field name="no_of_applications" invisible="1"/>
                                <field name="budget" attrs="{'readonly':[('state', 'not in',['draft', False])]}"/>
                                <field name="no_of_hired_employee" invisible="1"/>
                                <field name="actual" attrs="{'readonly':[('state', 'not in',['draft', False])]}"/>
                                <field name="variance" attrs="{'readonly':[('state', 'not in',['draft', False])]}"/>
                            </group>
                            <group>
                                <field name="requester_id" options="{'no_create':True}" attrs="{'readonly':[('state', 'not in',['draft', False])]}"/>
                                <field name="type" required="1" attrs="{'readonly':[('state', 'not in',['draft', False])]}"/>
                                <field name="replace_employee_id" options="{'no_create':True}" attrs="{'required':[('type', '!=', 'new')],'invisible':[('type', '=', 'new')],'readonly':[('state', 'not in', [False, 'draft'])]}"/>
                                <field name="date_request"/>
                                <field name="no_of_recruitment" attrs="{'readonly':[('state', 'not in',['draft', False])]}" required="1"/>

                            </group>
                        </group>
                        <group>
                            <separator string="Position Requirements" colspan="4"/>
                            <!--<group>-->
                                <!--<field name="gender"/>-->
                                <!--<label for="age_from" string="Age"/>-->
                                <!--<div>-->
                                    <!--<field name="age_from" required="False"-->
                                           <!--attrs="{'readonly':[('state','not in',[False,'draft'])]}" class="oe_inline"/>-->
                                    <!-- - -->
                                    <!--<field name="age_to" required="False"-->
                                           <!--attrs="{'readonly':[('state','not in',[False,'draft'])]}" class="oe_inline"/>-->
                                <!--</div>-->
                            <!--</group>-->
                            <group>
                                <field name="education" placeholder="Place the education details here!" rowspan="3"/>
                            </group>
                            <group>
                                <field name="work_experience" placeholder="Place the work experience here!" rowspan="4"/>
                            </group>
                            <group>
                                <field name="skills" placeholder="Place the required skills here!" rowspan="4"/>
                            </group>
                            <group>
                                <field name="personal_qualification" placeholder="Place the desired personal qualification here!" rowspan="4"/>
                            </group>
                        </group>
                        <group>
                            <separator string="Remarks" colspan="4"/>
                            <field name="unbudget_justification" placeholder="If unbudgeted, give justification in this area." colspan="4"/>
                            <field name="remarks" placeholder="Create your remarks here!" colspan="4"/>
                        </group>
                        <notebook>
                            <page string="Approvals">
                                <group>
                                    <group string="Approvals">
                                        <field name="recommend_id" options="{'no_create':True}" domain="['|', ('manager', '=', True), ('supervisor', '=', True), ('prf_approval_stage', '=', '1')]"
                                               attrs="{'readonly':[('state','not in',[False,'draft'])]}" required="1"/>
                                        <field name="approve_id" options="{'no_create':True}" domain="['|', ('manager', '=', True), ('prf_approval_stage', '=', '2')]"
                                               attrs="{'readonly':[('state','not in',[False,'draft'])]}" required="1"/>
                                        <field name="evaluate_id" options="{'no_create':True}" domain="[('prf_approval_stage', '=', '3')]"
                                               attrs="{'readonly':[('state','not in',[False,'draft'])]}" required="1"/>
                                    </group>
                                    <group string="Date Approved">
                                        <field name="recommend_date" attrs="{'readonly':True}"/>
                                        <field name="approve_date" attrs="{'readonly':True}"/>
                                        <field name="evaluate_date" attrs="{'readonly':True}"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Application(s) History">
                                <field name="applicant_ids" widget="many2many_kanban">
                                    <kanban create="false">
                                        <field name="name"/>
                                        <templates>
                                            <t t-name="kanban-box">
                                                <div class="oe_kanban_details">
                                                    <strong><field name="name"/></strong>
                                                    <ul>
                                                        <li><field name="job_id"></field></li>
                                                        <li><field name="department_id"></field></li>
                                                        <li><field name="company_id"></field></li>
                                                        <li><field name="date_applied"></field></li>
                                                    </ul>
                                                </div>
                                            </t>
                                        </templates>
                                    </kanban>
                                </field>
                            </page>
                            <page string="Hired Employee(s)">
                                <field name="hired_applicant_line" nolabel="1">
                                    <tree edit="false" create="false">
                                        <field name="name"/>
                                        <field name="job_id"/>
                                        <field name="department_id"/>
                                        <field name="company_id"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="hr_recruitment_request_tree_view" model="ir.ui.view">
            <field name="name">hr.recruitment.request.tree</field>
            <field name="model">hr.recruitment.request</field>
            <field name="arch" type="xml">
                <tree string="Recruitment Request" decoration-success="state == 'confirm'"
                      decoration-primary="state == 'draft'"
                      decoration-info="state == 'open'"
                      decoration-muted="state in ('close','cancel')">
                    <field name="name"/>
                    <field name="job_id"/>
                    <field name="department_id"/>
                    <field name="company_id"/>
                    <field name="no_of_recruitment"/>
                    <field name="no_of_applications"/>
                    <field name="date_request"/>
                    <field name="requester_id"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="hr_recruitment_request_filter_view" model="ir.ui.view">
           <field name="name">hr.recruitment.request.filter</field>
           <field name="model">hr.recruitment.request</field>
            <field name="arch" type="xml">
                <search string="Recruitment Request">
                    <field name="name"/>
                    <field name="job_id" string="Job Position" domain="[('active', '=', True)]"/>
                    <field name="department_id" string="Branch / Department"/>
                    <field name="company_id" string="Company"/>
                    <field name="requester_id" string="Requestor" domain="[('active', '=', True)]"/>
                </search>
           </field>
        </record>

        <record id="hr_recruitment_request_action_view" model="ir.actions.act_window">
            <field name="name">Personnel Requisition Form</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.recruitment.request</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('requester_id.user_id', '=', uid)]</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
              </p><p>
                <!-- More details about what a user can do with this object will be OK -->
              </p>
            </field>
        </record>

        <record id="hr_recruitment_request_tree_view_to_approve" model="ir.ui.view">
            <field name="name">hr.recruitment.request.tree2</field>
            <field name="model">hr.recruitment.request</field>
            <field name="arch" type="xml">
                <tree string="Recruitment Request" create="false">
                    <field name="name"/>
                    <field name="job_id"/>
                    <field name="department_id"/>
                    <field name="company_id"/>
                    <field name="no_of_recruitment"/>
                    <field name="no_of_applications"/>
                    <field name="date_request"/>
                    <field name="requester_id"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="to_managers_approve_hr_recruitment_request_action_view" model="ir.actions.act_window">
            <field name="name">For Recommendation Approval</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.recruitment.request</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">['|', ('state','=', 'confirm'), ('recommend_id.user_id', '=', uid)]</field>
            <field name="view_id" ref="hr_recruitment_request_tree_view_to_approve"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
              </p><p>
                <!-- More details about what a user can do with this object will be OK -->
              </p>
            </field>
        </record>

        <record id="to_bod_approve_hr_recruitment_request_action_view" model="ir.actions.act_window">
            <field name="name">For Final Approval</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.recruitment.request</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">['|', ('state','=', 'managers_approval'), ('approve_id.user_id', '=', uid)]</field>
            <field name="view_id" ref="hr_recruitment_request_tree_view_to_approve"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
              </p><p>
                <!-- More details about what a user can do with this object will be OK -->
              </p>
            </field>
        </record>

        <record id="to_approve_hr_recruitment_request_action_view" model="ir.actions.act_window">
            <field name="name">For Evaluation Approval</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.recruitment.request</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">['|', ('state','=', 'bod_approval'), ('evaluate_id.user_id', '=', uid)]</field>
            <field name="view_id" ref="hr_recruitment_request_tree_view_to_approve"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
              </p><p>
                <!-- More details about what a user can do with this object will be OK -->
              </p>
            </field>
        </record>

        <record id="all_hr_recruitment_request_action_view" model="ir.actions.act_window">
            <field name="name">All Personnel Requisition Form</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.recruitment.request</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
              </p><p>
                <!-- More details about what a user can do with this object will be OK -->
              </p>
            </field>
        </record>

        <menuitem id="employee_adviser" parent="hr.menu_hr_root" name="Adviser"
                  groups="hr.group_hr_user,base.group_user" sequence="98"/>


        <menuitem id="menu_recruitment_request_main"
                  parent="employee_adviser" name="Manpower Plan &amp; Personnel Requisition Form"
                  groups="hrms_employee.group_hr_recruitment_requester" sequence="1"/>

        <menuitem id="menu_manpower_plan" action="hr_manpower_plan_action_view"
                  parent="menu_recruitment_request_main" name="Manpower Plan"
                  groups="hrms_employee.group_hr_recruitment_requester" sequence="1"/>

        <menuitem id="menu_recruitment_request" action="hr_recruitment_request_action_view"
                  parent="menu_recruitment_request_main" name="Personnel Requisition Form"
                  groups="hrms_employee.group_hr_recruitment_requester" sequence="2"/>

        <menuitem id="menu_recruitment_request_main_to_approve"
                  parent="menu_recruitment_request_main" name="PRF To Approve"
                  groups="hrms_employee.group_hr_recruitment_requester" sequence="3"/>

        <menuitem id="to_managers_approve_hr_recruitment_menu" parent="menu_recruitment_request_main_to_approve"
                  action="to_managers_approve_hr_recruitment_request_action_view" sequence="1" groups="hrms_employee.group_prf_manager_approval,hr_recruitment.group_hr_recruitment_manager"/>

        <menuitem id="to_bod_approve_hr_recruitment_menu" parent="menu_recruitment_request_main_to_approve"
                  action="to_bod_approve_hr_recruitment_request_action_view" sequence="2" groups="hrms_employee.group_prf_bod_approval"/>

        <menuitem id="to_approve_recruitment_request_menu"
                  action="to_approve_hr_recruitment_request_action_view"
                  parent="menu_recruitment_request_main_to_approve"
                  sequence="3"
                  groups="hrms_employee.group_prf_hr_manager_approval"/>

        <menuitem id="menu_recruitment_requests_main" name="Manpower Plan &amp; PRF"
                  parent="hr_recruitment.menu_hr_recruitment_root"
                  sequence="95"
                  groups="hr.group_hr_manager,hr.group_hr_user,hr_recruitment.group_hr_recruitment_user,hr_recruitment.group_hr_recruitment_manager"/>

        <menuitem id="all_manpower_plan_menu" name="All Manpower Plan"
                  action="all_hr_manpower_plan_action_view"
                  parent="menu_recruitment_requests_main"
                  sequence="1"
                  groups="hr_recruitment.group_hr_recruitment_user,hr_recruitment.group_hr_recruitment_manager"/>

        <menuitem id="all_recruitment_request_menu" name="All Personnel Requisition Form"
                  action="all_hr_recruitment_request_action_view"
                  parent="menu_recruitment_requests_main"
                  sequence="2"
                  groups="hr_recruitment.group_hr_recruitment_user,hr_recruitment.group_hr_recruitment_manager"/>

        <record id="hr_job_kanban_view_inherited" model="ir.ui.view">
            <field name="name">hr.job.kanban.inherit</field>
            <field name="model">hr.job</field>
            <field name="inherit_id" ref="hr_recruitment.view_hr_job_kanban"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@class='o_primary']" position="replace">
                    <div class="o_primary">
                        <t t-esc="record.name.value"/><br/>
                        [<field name="address_id_abbr"/>]
                    </div>
                </xpath>
                <xpath expr="//div[@name='recruitment']" position="inside">
                    <div class="col-xs-12">
                        No. of Employees Needed: <field name="no_of_recruitment"/>
                    </div>
                </xpath>
            </field>
        </record>

        <record model="ir.actions.act_window" id="hr_recruitment.action_hr_job">
            <field name="context">{'search_default_in_recruitment': 1}</field>
        </record>

        <record id="view_hr_job_tree_inherited2" model="ir.ui.view">
            <field name="name">hr.job.tree.inherited2</field>
            <field name="model">hr.job</field>
            <field name="inherit_id" ref="hr.view_hr_job_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='department_id']" position="replace">
                    <field name="address_id"/>
                </xpath>
            </field>
        </record>
    </data>
</odoo>